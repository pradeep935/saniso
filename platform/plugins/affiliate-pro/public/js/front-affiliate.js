(()=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,o,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function c(t,r,a,i){var c=r&&r.prototype instanceof s?r:s,l=Object.create(c.prototype);return n(l,"_invoke",function(t,n,r){var a,i,c,s=0,l=r||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return a=t,i=0,c=e,p.n=n,u}};function d(t,n){for(i=t,c=n,o=0;!f&&s&&!r&&o<l.length;o++){var r,a=l[o],d=p.p,y=a[2];t>3?(r=y===n)&&(c=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=e):a[0]<=d&&((r=t<2&&d<a[1])?(i=0,p.v=n,p.n=a[1]):d<y&&(r=t<3||a[0]>n||n>y)&&(a[4]=t,a[5]=n,p.n=y,i=0))}if(r||t>1)return u;throw f=!0,n}return function(r,l,y){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&d(l,y),i=l,c=y;(o=i<2?e:c)||!f;){a||(i?i<3?(i>1&&(p.n=-1),d(i,c)):p.n=c:p.v=c);try{if(s=2,a){if(i||(r="next"),o=a[r]){if(!(o=o.call(a,c)))throw TypeError("iterator result is not an object");if(!o.done)return o;c=o.value,i<2&&(i=0)}else 1===i&&(o=a.return)&&o.call(a),i<2&&(c=TypeError("The iterator does not provide a '"+r+"' method"),i=1);a=e}else if((o=(f=p.n<0)?c:t.call(n,p))!==u)break}catch(t){a=e,i=1,c=t}finally{s=1}}return{value:o,done:f}}}(t,a,i),!0),l}var u={};function s(){}function l(){}function f(){}o=Object.getPrototypeOf;var p=[][a]?o(o([][a]())):(n(o={},a,function(){return this}),o),d=f.prototype=s.prototype=Object.create(p);function y(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,n(e,i,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=f,n(d,"constructor",f),n(f,"constructor",l),l.displayName="GeneratorFunction",n(f,i,"GeneratorFunction"),n(d),n(d,i,"Generator"),n(d,a,function(){return this}),n(d,"toString",function(){return"[object Generator]"}),(t=function(){return{w:c,m:y}})()}function n(e,t,o,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}n=function(e,t,o,r){if(t)a?a(e,t,{value:o,enumerable:!r,configurable:!r,writable:!r}):e[t]=o;else{var i=function(t,o){n(e,t,function(e){return this._invoke(t,o,e)})};i("next",0),i("throw",1),i("return",2)}},n(e,t,o,r)}function o(e,t,n,o,r,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(o,r)}function r(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var i=e.apply(t,n);function c(e){o(i,r,a,c,u,"next",e)}function u(e){o(i,r,a,c,u,"throw",e)}c(void 0)})}}function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,i(o.key),o)}}function i(t){var n=function(t,n){if("object"!=e(t)||!t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var r=o.call(t,n||"default");if("object"!=e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==e(n)?n:n+""}var c=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.initEvents()},n=[{key:"initEvents",value:function(){var e=this;$(document).on("click","[data-copy-affiliate-link]",function(t){t.preventDefault(),e.copyAffiliateLink()}),$(document).on("click","[data-copy-affiliate-code]",function(t){t.preventDefault(),e.copyAffiliateCode()}),$(document).on("click","[data-copy-text-link]",function(t){t.preventDefault();var n=$(t.currentTarget).data("copy-text-link");e.copyTextLink(n)}),$(document).on("click","[data-copy-banner-html]",function(t){t.preventDefault();var n=$(t.currentTarget).data("copy-banner-html");e.copyBannerHtml(n)}),$(document).on("click","[data-copy-coupon-code]",function(t){t.preventDefault();var n=$(t.currentTarget).data("copy-coupon-code");e.copyCouponCode(n)}),$(document).on("click",'[data-bb-toggle="clipboard"]',function(t){t.preventDefault(),e.handleCoreClipboard(t)}),this.initBannerImageErrorHandling()}},{key:"copyAffiliateLink",value:(p=r(t().m(function e(){var n;return t().w(function(e){for(;;)switch(e.n){case 0:if(n=document.getElementById("affiliate-link")){e.n=1;break}return e.a(2);case 1:return e.n=2,this.copyToClipboard(n.value);case 2:this.showSuccessMessage(this.getTranslation("copied_to_clipboard"));case 3:return e.a(2)}},e,this)})),function(){return p.apply(this,arguments)})},{key:"copyAffiliateCode",value:(f=r(t().m(function e(){var n;return t().w(function(e){for(;;)switch(e.n){case 0:if(n=document.getElementById("affiliate-code")){e.n=1;break}return e.a(2);case 1:return e.n=2,this.copyToClipboard(n.value);case 2:this.showSuccessMessage(this.getTranslation("copied_to_clipboard"));case 3:return e.a(2)}},e,this)})),function(){return f.apply(this,arguments)})},{key:"copyTextLink",value:(l=r(t().m(function e(n){var o;return t().w(function(e){for(;;)switch(e.n){case 0:if(o=document.getElementById("text-link-"+n)){e.n=1;break}return e.a(2);case 1:return e.n=2,this.copyToClipboard(o.value);case 2:this.showSuccessMessage(this.getTranslation("html_copied"));case 3:return e.a(2)}},e,this)})),function(e){return l.apply(this,arguments)})},{key:"copyBannerHtml",value:(s=r(t().m(function e(n){var o;return t().w(function(e){for(;;)switch(e.n){case 0:if(o=document.getElementById("banner-html-"+n)){e.n=1;break}return e.a(2);case 1:return e.n=2,this.copyToClipboard(o.value);case 2:this.showSuccessMessage(this.getTranslation("html_copied"));case 3:return e.a(2)}},e,this)})),function(e){return s.apply(this,arguments)})},{key:"copyCouponCode",value:(u=r(t().m(function e(n){return t().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.copyToClipboard(n);case 1:this.showSuccessMessage(this.getTranslation("coupon_copied"));case 2:return e.a(2)}},e,this)})),function(e){return u.apply(this,arguments)})},{key:"handleCoreClipboard",value:(c=r(t().m(function e(n){var o,r,a,i,c,u,s,l,f,p;return t().w(function(e){for(;;)switch(e.n){case 0:return o=$(n.currentTarget),r=o.data("clipboard-message"),a=o.data("clipboard-action")||"copy",i="cut"===a.toLowerCase(),c=o.find("[data-clipboard-icon]"),u=o.find("[data-clipboard-success-icon]"),s=o.data("clipboard-parent"),l=s?document.querySelector(s):void 0,(f=o.data("clipboard-text"))||(p=$(o.data("clipboard-target"))).length>0&&(f=p.val(),i&&p.val("")),e.n=1,this.copyToClipboard(f,l);case 1:r&&this.showSuccessMessage(r),c.addClass("d-none"),u.removeClass("d-none"),setTimeout(function(){c.removeClass("d-none"),u.addClass("d-none")},1e3);case 2:return e.a(2)}},e,this)})),function(e){return c.apply(this,arguments)})},{key:"copyToClipboard",value:(i=r(t().m(function e(n,o){return t().w(function(e){for(;;)switch(e.n){case 0:if(!navigator.clipboard||!window.isSecureContext){e.n=2;break}return e.n=1,navigator.clipboard.writeText(n);case 1:e.n=3;break;case 2:this.unsecuredCopyToClipboard(n,o);case 3:return e.a(2)}},e,this)})),function(e,t){return i.apply(this,arguments)})},{key:"unsecuredCopyToClipboard",value:function(e,t){t=t||document.body;var n=document.createElement("textarea");n.value=e,n.style.position="absolute",n.style.left="-999999px",t.append(n),n.select();try{document.execCommand("copy")}catch(e){console.error("Unable to copy to clipboard",e)}t.removeChild(n)}},{key:"showSuccessMessage",value:function(e){"undefined"!=typeof Theme&&Theme.showNotice?Theme.showSuccess(e):"undefined"!=typeof Botble&&Botble.showSuccess?Botble.showSuccess(e):"undefined"!=typeof toastr?toastr.success(e):alert(e)}},{key:"initBannerImageErrorHandling",value:function(){$(document).on("error",".banner-image",function(){$(this).hide()})}},{key:"getTranslation",value:function(e){var t,n;return(null===(t=window.affiliateTranslations)||void 0===t?void 0:t[e])||(null===(n=window.trans)||void 0===n?void 0:n["plugins/affiliate-pro::affiliate."+e])||{copied_to_clipboard:"Copied to clipboard!",html_copied:"HTML copied to clipboard!",coupon_copied:"Coupon code copied to clipboard!",copy_failed:"Failed to copy. Please try again."}[e]||e}}],n&&a(e.prototype,n),o&&a(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n,o,i,c,u,s,l,f,p}();$(document).ready(function(){new c})})();